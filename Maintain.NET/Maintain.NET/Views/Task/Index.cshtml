@model IEnumerable<Maintain.NET.Models.UserMaintenanceTask>
@using Maintain.NET.Models.Interfaces
@using Maintain.NET.Models
@inject ITaskManager TaskManagementService

@{
    var tasks = await TaskManagementService.GetAllTasks();
    ViewData["Title"] = "Manage Tasks";
    Layout = "_Layout";

    TimeConverter timeConverter = new TimeConverter();

}

<h1>Manage Your Tasks</h1>
<div class="text-container-manage">
    
@foreach (var usertask in Model)

{
    <p>Due Date: @timeConverter.UnixToDate(usertask.NextComplete)</p>
    <p>@usertask.MaintenanceTask.Name</p>
    <a asp-action="DeleteUserTask" asp-route-id="@usertask.ID" id="a-button">Delete</a>
    <a asp-action="Manage" asp-route-id="@usertask.ID" id="a-button">Complete Task</a>

}

</div>
<h1>Add New Task</h1>
<p>
    <a asp-action="CreateUserTask" id="a-button">Add New Task</a>
</p>
